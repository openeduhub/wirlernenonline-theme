(()=>{"use strict";window.registerChatGptBlock=e=>{const t=jQuery(`#${e}`),n=JSON.parse(t.attr("data-response-texts")),i=JSON.parse(t.attr("data-enabled-variables")),r=t.find(".response-text"),s=t.find(".edited-by");window.pageVariablesSubject.subscribe((e=>{const t=function(e,t){return Object.keys(e).filter((e=>t.some((t=>t.key===e)))).sort().map((t=>`${t}:${e[t]}`)).join("|")}(e,i),a=n[t];a?(r.empty(),function(e,t){const n=e.split("\n").map((e=>e.trim())).filter((e=>""!==e));for(const e of n)console.log(e),t.append(jQuery("<p></p>").append(e))}(a.text,r),a.editedBy?.length?s.text(`generiert mit ChatGPT und bearbeitet von ${a.editedBy.join(", ")}`):s.text("generiert mit ChatGPT")):r.html("<p>Hier gibt es noch keinen Text.</p>")}))}})();